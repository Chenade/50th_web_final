<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E10</title>
</head>
<body>
<div style="margin: 50px;">
    <canvas id="canvas" width="300" height="150" style="border:solid black 1px;"></canvas>
</div>
</body>
</html>

<script>

    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var isDrawing = false;
    var last_x = 0;
    var last_y = 0;

    canvas.addEventListener('mouseup',function () {isDrawing = false;});
    canvas.addEventListener('mouseover',function () {isDrawing = false;});
    canvas.addEventListener('mousedown',function (e) {

        isDrawing = true;
        last_x = e.offsetX;
        last_y = e.offsetY;
    });
    canvas.addEventListener('mousemove',draw);

    function draw(e) {
        if(isDrawing){
            ctx.beginPath();
            ctx.moveTo(last_x,last_y);
            ctx.lineTo(e.offsetX,e.offsetY);
            ctx.stroke();

            last_x = e.offsetX;
            last_y = e.offsetY;
        }

    }

</script>